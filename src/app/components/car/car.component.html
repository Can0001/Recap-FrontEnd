<div *ngIf="dataLoaded==false" class="spinner-border text-primary" role="status">
    <span class="visually-hidden">Loading...</span>
  </div>

<!-- <div class="row mb-3">
  <div class="col-md-4">
    <select [(ngModel)]="brandFilter" class="form-select" aria-label="Default select example">
      <option value="0">Marka Seç</option>
      <option *ngFor="let brand of brands" [value]="brand.brandsId" [selected]="getSelectedBrand(brand.brandsId)">{{brand.brandsName}}</option>
    </select>
  </div>
  <div class="col-md-4">
    <select [(ngModel)]="colorFilter" class="form-select" aria-label="Default select example">
      <option value="0">Reng Seç</option>
      <option *ngFor="let color of colors" [value]="color.colorId" [selected]="getSelectedColor(color.colorId)">{{color.colorName}}</option>
    </select>
  </div>

  <div class="col-md-3">
    <button routerLink="/cars/color/{{colorFilter}}/brand/{{brandFilter}}" class="btn btn-primary" type="button">Filtrele</button>
  </div>
</div>

<div *ngIf="dataLoaded!=false" class="container">
  <div class="row">
    <div *ngFor="let carDetail of carDetailDtos" class="col-md-4">
      <img *ngIf="carDetail.imagePath" routerLink="/cars/carDetail/{{carDetail.carsId}}" [src]="carDetail.imagePath.length !==0 ? imageUrl+carDetail.imagePath[0]:imageUrl+'Default.jpg'"
      style="object-fit:cover; " class="card-img-top" alt="...">

      <div class="card-body">
        <h5 class="card-title">{{carDetail.brandsName}} {{carDetail.description}}</h5>
      </div>
      <ul class="list-group list-group-flush">
        <li class="list-group-item">Brand:{{carDetail.brandsName}}</li>
        <li class="list-group-item">Model Year:{{carDetail.modelYears}}</li>
        <li class="list-group-item">Color:{{carDetail.colorName}}</li>
        <li class="list-group-item">Price:{{carDetail.dailyPrice}} TL/Gün</li>
        <li class="list-group-item">Description:{{carDetail.description}}</li>
      </ul>
      <div class="card-body">
        <button routerLink="/cars/cardetail/{{carDetail.carsId}}" type="button" class="btn btn-primary">Detay</button>
      </div>
    </div>
  </div>
</div> -->






































  <div class="mb-3">
    <label for="filterText" class="form-label">Araba Ara</label>
    <input type="text" [(ngModel)]="filterText" class="form-control" id="filterText" placeholder="arama ifadesi giriniz">
</div>

<div *ngIf="filterText" class="alert alert-success">
    {{filterText}} aradınız
</div>

<table *ngIf="dataLoaded==true" class="table">
    <thead>
      <th>Id</th>
      <th>Üretim Yılı</th>
      <th>Marka</th>
      <th>Renk</th>
      <th>Kiralama Fiyatı</th>
      <th>KDV'li</th>
      <th>Modeli</th>
      <th></th>
    </thead>
    <tbody><tr (click)="setCurrentCar(car)" routerLink="/cars/{{car.carsId}}" *ngFor="let car of cars | filterPipe:filterText" >
      <td>{{ car.carsId }}</td>
      <td>{{ car.modelYears }}</td>
      <td>{{ car.brandsId   }}</td>
      <td>{{ car.colorsId    }}</td>
      <td>{{ car.dailyPrice}}</td>
      <td>{{ car.dailyPrice |vatAdded:18 |currency }}</td>
      <td>{{ car.description }}</td>
      <td><button (click)="addToCart(car)" type="button" class="btn btn-success">Satın Al</button></td>
    </tr></tbody>
</table>





























<!-- <div *ngIf="dataLoaded == false" class="spinner-border text-info" role="status">
    <span class="visually-hidden">Loading...</span>
  </div>
  <ul class="list-group">
    <li (click)="setCurrentCar(car)" routerLink="/cars/car-detail/{{car.carsId}}" 
    *ngFor="let car of cars" [class]="getCurrentCarClass(car)">{{car.description}}</li>
  </ul> -->

